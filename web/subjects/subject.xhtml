<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">
    
        <div class="ContentSideSections overHidden">
        <p:dataTable var="subj" value="#{subjectBean.subjectList}" resizableColumns="true" id="subjectTable" paginator="true" rows="10"
                 paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
                 rowsPerPageTemplate="5,10,15,20,25,30,35,,40,45,50,55,60,65,70,75,80,85,90,95,100"  widgetVar="schoolFolderTable" selectionMode="single" selection="#{subjectBean.selectedSubject}" rowKey="#{subj.subjectCode}"  lazy="true" >
            <p:ajax event="rowSelect" listener="#{subjectBean.onRowSelect}" update="@([id$= subj_display2])" oncomplete="PF('subj_editOptionsDlg').show()" />
                <f:facet name="header">  
                        <p:outputPanel>
                                <h:outputText styleClass=" PFRedText fontSize18 mediumFont " value="Subjects" />
                                <p:separator />
                                <div align="right">
                                        <p:commandButton oncomplete="PF('newSubjectdlg').show(); " icon="ui-icon-document" value="Add New"/> 
                                </div>
                        </p:outputPanel>
                </f:facet> 
            
                <p:column style="width:5%; vertical-align: top" sortBy="#{subj.subID}">
                        
                                <!--- <p:graphicImage height="20" width="20" style="border: 0px;" name="main/images/folder/folder.png" /> -->
                                <h:outputText value="#{subj.subID}" />
                        
                </p:column>  
                <p:column style="width:20%; vertical-align: top" sortBy="#{subj.subjectCode}" headerText="Subject Code">
                              <h:outputText value=" #{subj.subjectCode}" /> 
                </p:column>  
                <p:column style="width:20%; vertical-align: top" sortBy="#{subj.subjectName}" headerText="Name">
                            <h:outputText value="#{subj.subjectName}" />  
                </p:column>  
                <p:column style="width:20%; vertical-align: top" sortBy="#{subj.shortName}" headerText="Short Name">
                           <h:outputText value="#{subj.shortName}" /> 
                </p:column> 
                <p:column style="width:5%; vertical-align: top" >
               
                        <p:menuButton style="max-height: 100px; " value="More"> 
                            
                            <p:menuitem value="Edit Subject" icon="ui-icon-pencil"  update="@([id$= subj_display2])" oncomplete="PF('subj_editOptionsDlg').show()">
                                <f:setPropertyActionListener  value="#{subj}"  target="#{subjectBean.selectedSubject}" />
                             </p:menuitem>
                             <p:separator/>
                             <p:menuitem value="Delete Subject" icon="ui-icon-circle-plus" style="margin:0 auto;"  title="Delete" 
                                         update="@([id$= subj_deletedisplay2])" oncomplete="PF('subj_deleteOptionsDlg').show()">
                                 <f:setPropertyActionListener  value="#{subj}"  target="#{subjectBean.selectedSubject}" />
                             </p:menuitem>
                             <p:separator />
                         </p:menuButton> 
                 </p:column>
          
        </p:dataTable>
        <ui:include src="/subjects/moreOptions.xhtml"/>
        </div>
</html>
