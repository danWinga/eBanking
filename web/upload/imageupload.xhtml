<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">
    
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <f:facet name="first" >
                <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE10" /> 
                <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        </f:facet>
        <style type="text/css">
                .ui-widget,
                .ui-widget .ui-widget {
                       font-size: 12px !important;
                }
                .ui-panelgrid td, .ui-panelgrid tr {
                        border-style: none !important;
                        background-color: transparent !important; 
                }
               
            .value {
                font-weight: bold;
            }
            
            .ui-datatable {
                margin-bottom: 25px
            }
            
            .ui-datatable .ui-datatable-footer {
                text-align:left;
            }
            
            .ui-datalist ul {
                padding: 0 0 0 10px;
                margin: 5px 0;
            }
            
            .ui-datatable .ui-button-icon-only .ui-button-text {
                padding: 0;
                line-height: 1.2;
            }
        
        </style>
        
<h:form enctype="multipart/form-data"> 
            <p:messages showDetail="true"/>
            <p:panelGrid columns="2">
                <h:outputLabel for="image" value="Select Image: *" />
                <p:fileUpload value="#{uploadImage.file}" mode="simple" allowTypes="/(\.|\/)(gif|jpe?g|png)$/"/>
                <f:facet name="footer">
                    <p:commandButton value="Submit" ajax="false" 
                                     actionListener="#{uploadImage.upload}"/></f:facet>
            </p:panelGrid>
            <p:spacer height="20"></p:spacer>
            <p:dataTable value="#{tableBean.allImage}" var="item" paginator="true" rows="5"
                         paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         rowsPerPageTemplate="3,5,10" widgetVar="50" style="width: 60px;" >          
                <f:facet name="header">
                        <h:outputText value="Image showing from database" />
                    </f:facet>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Image Id" />
                    </f:facet>
                    <h:outputText value="#{item.imageID}"/>
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Image Name" />
                    </f:facet>
                    <h:outputText value="#{item.imageName}"/>
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Image" />
                    </f:facet>
                    <h:outputLink value="DisplayImage?Image_id=#{item.imageID}" target="_blank" >
                        <h:graphicImage value="DisplayImage?Image_id=#{item.imageID}" width="50" height="50"></h:graphicImage>
                    </h:outputLink>
 
                </p:column>
            </p:dataTable>
        </h:form> 
        
</html>
